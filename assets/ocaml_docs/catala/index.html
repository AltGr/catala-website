<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>index (catala.index)</title><link rel="stylesheet" href="../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ catala</nav><h1 id="the-catala-compiler"><a href="#the-catala-compiler" class="anchor"></a>The Catala compiler</h1><nav class="toc"><ul><li><a href="#architecture">Architecture</a></li><li><a href="#list-of-top-level-modules">List of top-level modules</a></li></ul></nav></header><h2 id="architecture"><a href="#architecture" class="anchor"></a>Architecture</h2><p>The architecture of the Catala compiler is inspired by <a href="https://compcert.org/">CompCert</a> or the <a href="https://nanopass.org/">Nanopass</a> framework, and is structured around many intermediate representations connected by successive translations passes.</p><p>Here is the recap picture of the different intermediate representations of the Catala compiler (made with an <a href="https://textik.com/#c1c1fecda5209492">ASCII diagram tool</a>):</p><pre>                                     +---------------+   
                                     |               |   
                                     |  Surface AST  |   
                                     |               |   
                                     +---------------+   
                                             |           
         * Separate code from legislation    |           
         * Remove syntactic sugars           |           
                                             v           
                                     +---------------+   
                                     |               |   
                                     | Desugared AST |   
                                     |               |   
                                     +---------------+   
                                             |           
 * Build rule trees for each definition      |           
 * Order variable computations inside scope  |           
                                             v           
                                  +--------------------+ 
                                  |                    | 
                                  | Scope language AST | 
                                  |                    | 
                                  +--------------------+ 
                                             |           
        * Convert scopes into functions      |           
        * Thunking of subscope arguments     |           
                                             |           
                                             v           
                                 +----------------------+
                                 |                      |
                                 | Default calculus AST |
                                 |                      |
                                 +----------------------+</pre><h2 id="list-of-top-level-modules"><a href="#list-of-top-level-modules" class="anchor"></a>List of top-level modules</h2><p>Each of those intermediate representation is bundled into its own `dune` bundle module. Click on the items below if you want to dive straight into the signatures.</p><ul class="modules"><li><a href="Surface/index.html"><code>Surface</code></a></li><li><a href="Desugared/index.html"><code>Desugared</code></a></li><li><a href="Scopelang/index.html"><code>Scopelang</code></a></li><li><a href="Dcalc/index.html"><code>Dcalc</code></a></li></ul><p>More documentation can be found on each intermediate representations here.</p><ul><li><a href="surface.html">The surface representation</a></li><li><a href="desugared.html">The desugared representation</a></li><li><a href="scopelang.html">The scope language</a></li><li><a href="dcalc.html">The default calculus</a></li></ul><p>The main compilation chain is defined in:</p><ul class="modules"><li><a href="Catala/Driver/index.html"><code>Catala.Driver</code></a></li></ul><p>Last, two more modules contain additional features for the compiler:</p><ul><li><a href="literate.html">Literate programming</a></li><li><a href="utils.html">Compiler utilities</a></li></ul></div></body></html>