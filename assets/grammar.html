<!DOCTYPE html>
<html>
  <head>
    <title>Grammar</title>
    <style>
      .specification td, th{
          vertical-align: baseline;
          padding: 0;
          margin: 0;
          font-weight: normal;
      }
      .specification td {
          text-align: left;
      }
      .specification th {
          text-align: right;
          white-space: nowrap;
      }
      .specification th::after {
          content: "\a0::=\a0";
      }
      .specification th.bar {
          text-align: right;
      }
      .specification th.bar::after {
          content: "|\a0";
      }
      .rule th, td {
          padding-top: .5em;
      }
      .nonterminal::before {
          content: "<";
      }
      .nonterminal::after {
          content: ">";
      }
      .list::after {
          content: "*";
          vertical-align: super;
          font-size: smaller;
      }
      .ne_list::after {
          content: "+";
          vertical-align: super;
          font-size: smaller;
      }
      .option::before {
          content: "[";
      }
      .option::after {
          content: "]";
      }
    </style>
  </head>
  
  <body>
    
    <table class="specification">
      
      <tr class="rule">
        <th><span class="nonterminal">pos(x)</span></th>
        <td>x</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">addpos(x)</span></th>
        <td>x</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">typ_base</span></th>
        <td>INTEGER</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>BOOLEAN</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>MONEY</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>DURATION</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>TEXT</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>DECIMAL</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>DATE</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>UIDENT</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">typ</span></th>
        <td><span class="nonterminal">typ_base</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>COLLECTION
        <span class="nonterminal">addpos(<span class="nonterminal">typ</span>)</span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">qident</span></th>
        <td><span class="nonterminal">ident</span><sup>+</sup><sub>DOT</sub></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">path</span></th>
        <td><span class="option"><span class="nonterminal">constructor</span>
        DOT</span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">expression</span></th>
        <td><span class="nonterminal">addpos(<span class="nonterminal">naked_expression</span>)</span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">naked_expression</span></th>
        <td>LIDENT</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">literal</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>LPAREN
        <span class="nonterminal">expression</span>
        RPAREN</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">expression</span>
        DOT
        <span class="nonterminal">path</span>
        <span class="nonterminal">ident</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>CARDINAL</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>DECIMAL</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>MONEY</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>LBRACKET
        <span class="nonterminal">expression</span><sup>*</sup><sub>SEMICOLON</sub>
        RBRACKET</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">struct_or_enum_inject</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">expression</span>
        OF
        <span class="nonterminal">expression</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>OUTPUT
        OF
        <span class="nonterminal">constructor</span>
        <span class="option"><span class="nonterminal">scope_call_args</span></span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">expression</span>
        WITH
        <span class="nonterminal">constructor_binding</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">expression</span>
        CONTAINS
        <span class="nonterminal">expression</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>SUM
        <span class="nonterminal">addpos(<span class="nonterminal">typ_base</span>)</span>
        OF
        <span class="nonterminal">expression</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">expression</span>
        FOR
        <span class="nonterminal">ident</span>
        AMONG
        <span class="nonterminal">expression</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">minmax</span>
        OF
        <span class="nonterminal">expression</span>
        OR
        IF
        COLLECTION
        EMPTY
        THEN
        <span class="nonterminal">expression</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">unop</span>
        <span class="nonterminal">expression</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">expression</span>
        <span class="nonterminal">mult_op</span>
        <span class="nonterminal">expression</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">expression</span>
        <span class="nonterminal">sum_op</span>
        <span class="nonterminal">expression</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">expression</span>
        <span class="nonterminal">compare_op</span>
        <span class="nonterminal">expression</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">expression</span>
        <span class="nonterminal">logical_or_op</span>
        <span class="nonterminal">expression</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">expression</span>
        <span class="nonterminal">logical_and_op</span>
        <span class="nonterminal">expression</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>EXISTS
        <span class="nonterminal">ident</span>
        AMONG
        <span class="nonterminal">expression</span>
        SUCH
        THAT
        <span class="nonterminal">expression</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>FOR
        ALL
        <span class="nonterminal">ident</span>
        AMONG
        <span class="nonterminal">expression</span>
        WE_HAVE
        <span class="nonterminal">expression</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>MATCH
        <span class="nonterminal">expression</span>
        WITH
        <span class="nonterminal">addpos(<span class="ne_list"><span class="nonterminal">addpos(ALT
        <span class="nonterminal">match_arm</span>)</span></span>)</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>IF
        <span class="nonterminal">expression</span>
        THEN
        <span class="nonterminal">expression</span>
        ELSE
        <span class="nonterminal">expression</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>LET
        <span class="nonterminal">ident</span>
        DEFINED_AS
        <span class="nonterminal">expression</span>
        IN
        <span class="nonterminal">expression</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">ident</span>
        AMONG
        <span class="nonterminal">expression</span>
        SUCH
        THAT
        <span class="nonterminal">expression</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">expression</span>
        FOR
        <span class="nonterminal">ident</span>
        AMONG
        <span class="nonterminal">expression</span>
        SUCH
        THAT
        <span class="nonterminal">expression</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">ident</span>
        AMONG
        <span class="nonterminal">expression</span>
        SUCH
        THAT
        <span class="nonterminal">expression</span>
        IS
        <span class="nonterminal">minmax</span>
        OR
        IF
        COLLECTION
        EMPTY
        THEN
        <span class="nonterminal">expression</span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">struct_content_field</span></th>
        <td><span class="nonterminal">ident</span>
        COLON
        <span class="nonterminal">expression</span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">enum_content_opt</span></th>
        <td><span class="option">CONTENT
        <span class="nonterminal">expression</span></span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">struct_or_enum_inject</span></th>
        <td><span class="nonterminal">path</span>
        <span class="nonterminal">constructor</span>
        <span class="nonterminal">enum_content_opt</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">path</span>
        <span class="nonterminal">constructor</span>
        LBRACE
        <span class="ne_list">(ALT
        <span class="nonterminal">struct_content_field</span>)</span>
        RBRACE</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">num_literal</span></th>
        <td>INT_LITERAL</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>DECIMAL_LITERAL</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">unit_literal</span></th>
        <td>PERCENT</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>YEAR</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>MONTH</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>DAY</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">literal</span></th>
        <td><span class="nonterminal">addpos(<span class="nonterminal">num_literal</span>)</span>
        <span class="option"><span class="nonterminal">addpos(<span class="nonterminal">unit_literal</span>)</span></span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>MONEY_AMOUNT</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>BAR
        DATE_LITERAL
        BAR</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>TRUE</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>FALSE</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">compare_op</span></th>
        <td>LESSER</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>LESSER_EQUAL</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>GREATER</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>GREATER_EQUAL</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>EQUAL</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>NOT_EQUAL</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">scope_call_args</span></th>
        <td>WITH_V
        LBRACE
        <span class="list">(ALT
        <span class="nonterminal">struct_content_field</span>)</span>
        RBRACE</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">minmax</span></th>
        <td>MAXIMUM</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>MINIMUM</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">unop</span></th>
        <td>NOT</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>MINUS</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">mult_op</span></th>
        <td>MULT</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>DIV</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">sum_op</span></th>
        <td>PLUS</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>MINUS</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>PLUSPLUS</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">logical_and_op</span></th>
        <td>AND</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">logical_or_op</span></th>
        <td>OR</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>XOR</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">constructor_binding</span></th>
        <td><span class="nonterminal">path</span>
        <span class="nonterminal">constructor</span>
        OF
        <span class="nonterminal">ident</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">path</span>
        <span class="nonterminal">constructor</span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">match_arm</span></th>
        <td>WILDCARD
        COLON
        <span class="nonterminal">expression</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">addpos(<span class="nonterminal">constructor_binding</span>)</span>
        COLON
        <span class="nonterminal">expression</span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">condition</span></th>
        <td>UNDER_CONDITION
        <span class="nonterminal">expression</span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">condition_consequence</span></th>
        <td><span class="nonterminal">condition</span>
        CONSEQUENCE</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">rule_expr</span></th>
        <td><span class="nonterminal">addpos(<span class="nonterminal">qident</span>)</span>
        <span class="option"><span class="nonterminal">definition_parameters</span></span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">rule_consequence</span></th>
        <td><span class="option">NOT</span>
        FILLED</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">rule</span></th>
        <td><span class="option"><span class="nonterminal">label</span></span>
        <span class="option"><span class="nonterminal">exception_to</span></span>
        RULE
        <span class="nonterminal">rule_expr</span>
        <span class="option"><span class="nonterminal">condition_consequence</span></span>
        <span class="option"><span class="nonterminal">state</span></span>
        <span class="nonterminal">addpos(<span class="nonterminal">rule_consequence</span>)</span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">definition_parameters</span></th>
        <td>OF
        <span class="nonterminal">ident</span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">label</span></th>
        <td>LABEL
        <span class="nonterminal">ident</span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">state</span></th>
        <td>STATE
        <span class="nonterminal">ident</span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">exception_to</span></th>
        <td>EXCEPTION
        <span class="option"><span class="nonterminal">ident</span></span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">definition</span></th>
        <td><span class="option"><span class="nonterminal">label</span></span>
        <span class="option"><span class="nonterminal">exception_to</span></span>
        DEFINITION
        <span class="nonterminal">addpos(<span class="nonterminal">qident</span>)</span>
        <span class="option"><span class="nonterminal">definition_parameters</span></span>
        <span class="option"><span class="nonterminal">state</span></span>
        <span class="option"><span class="nonterminal">condition_consequence</span></span>
        DEFINED_AS
        <span class="nonterminal">expression</span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">variation_type</span></th>
        <td>INCREASING</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>DECREASING</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">assertion_base</span></th>
        <td><span class="nonterminal">expression</span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">assertion</span></th>
        <td><span class="option"><span class="nonterminal">condition_consequence</span></span>
        <span class="nonterminal">assertion_base</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>FIXED
        <span class="nonterminal">addpos(<span class="nonterminal">qident</span>)</span>
        BY
        <span class="nonterminal">ident</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>VARIES
        <span class="nonterminal">addpos(<span class="nonterminal">qident</span>)</span>
        WITH_V
        <span class="nonterminal">expression</span>
        <span class="option"><span class="nonterminal">variation_type</span></span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">scope_item</span></th>
        <td><span class="nonterminal">rule</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">definition</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>ASSERTION
        <span class="nonterminal">assertion</span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">ident</span></th>
        <td>LIDENT</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">condition_pos</span></th>
        <td>CONDITION</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">struct_scope_base</span></th>
        <td>DATA
        <span class="nonterminal">ident</span>
        CONTENT
        <span class="nonterminal">addpos(<span class="nonterminal">typ</span>)</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">condition_pos</span>
        <span class="nonterminal">ident</span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">struct_scope_func</span></th>
        <td>DEPENDS
        <span class="nonterminal">addpos(<span class="nonterminal">typ</span>)</span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">struct_scope</span></th>
        <td><span class="nonterminal">struct_scope_base</span>
        <span class="option"><span class="nonterminal">struct_scope_func</span></span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">scope_decl_item_attribute_input</span></th>
        <td>CONTEXT</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>INPUT</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">scope_decl_item_attribute_output</span></th>
        <td><span class="option">OUTPUT</span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">scope_decl_item_attribute</span></th>
        <td><span class="nonterminal">scope_decl_item_attribute_input</span>
        <span class="nonterminal">scope_decl_item_attribute_output</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>INTERNAL</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>OUTPUT</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">scope_decl_item</span></th>
        <td><span class="nonterminal">scope_decl_item_attribute</span>
        <span class="nonterminal">ident</span>
        CONTENT
        <span class="nonterminal">addpos(<span class="nonterminal">typ</span>)</span>
        <span class="option"><span class="nonterminal">struct_scope_func</span></span>
        <span class="list"><span class="nonterminal">state</span></span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">ident</span>
        SCOPE
        <span class="nonterminal">constructor</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">scope_decl_item_attribute</span>
        <span class="nonterminal">ident</span>
        CONDITION
        <span class="option"><span class="nonterminal">struct_scope_func</span></span>
        <span class="list"><span class="nonterminal">state</span></span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">enum_decl_line</span></th>
        <td>ALT
        <span class="nonterminal">constructor</span>
        <span class="option">CONTENT
        <span class="nonterminal">addpos(<span class="nonterminal">typ</span>)</span></span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">constructor</span></th>
        <td><span class="nonterminal">addpos(UIDENT)</span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">scope_use_condition</span></th>
        <td>UNDER_CONDITION
        <span class="nonterminal">expression</span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">code_item</span></th>
        <td>SCOPE
        <span class="nonterminal">constructor</span>
        <span class="option"><span class="nonterminal">scope_use_condition</span></span>
        COLON
        <span class="ne_list"><span class="nonterminal">scope_item</span></span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>DECLARATION
        STRUCT
        <span class="nonterminal">constructor</span>
        COLON
        <span class="list"><span class="nonterminal">struct_scope</span></span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>DECLARATION
        SCOPE
        <span class="nonterminal">constructor</span>
        COLON
        <span class="ne_list"><span class="nonterminal">scope_decl_item</span></span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>DECLARATION
        ENUM
        <span class="nonterminal">constructor</span>
        COLON
        <span class="list"><span class="nonterminal">enum_decl_line</span></span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">code</span></th>
        <td><span class="list"><span class="nonterminal">code_item</span></span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">metadata_block</span></th>
        <td>BEGIN_METADATA
        <span class="option"><span class="nonterminal">law_text</span></span>
        <span class="nonterminal">code</span>
        END_CODE</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">law_heading</span></th>
        <td>LAW_HEADING</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">law_text</span></th>
        <td><span class="ne_list">LAW_TEXT</span></td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">source_file_item</span></th>
        <td><span class="nonterminal">law_text</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>BEGIN_CODE
        <span class="nonterminal">code</span>
        END_CODE</td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">law_heading</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td><span class="nonterminal">metadata_block</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>BEGIN_DIRECTIVE
        LAW_INCLUDE
        COLON
        <span class="ne_list">DIRECTIVE_ARG</span>
        <span class="option">AT_PAGE</span>
        END_DIRECTIVE</td>
      </tr>
      
      <tr class="rule">
        <th><span class="nonterminal">source_file</span></th>
        <td><span class="nonterminal">source_file_item</span>
        <span class="nonterminal">source_file</span></td>
      </tr>
      <tr>
        <th class="bar"></th>
        <td>EOF</td>
      </tr>
      
      
    </table>
    
  </body>
  
</html>
